FROM ubuntu:18.04

MAINTAINER Amazon SageMaker Examples <amazon-sagemaker-examples@amazon.com>

ENV DEBIAN_FRONTEND=noninteractive 

RUN apt-get -y update && apt-get install -y --no-install-recommends \
    wget \
    r-base \
    r-base-dev \
    ca-certificates

RUN R -e "install.packages(c('mda', 'plumber'), repos='https://cloud.r-project.org')"

COPY algorithm /opt/program

ENTRYPOINT ["/usr/bin/Rscript", "/opt/program/mars.R", "--no-save"]
